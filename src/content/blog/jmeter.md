---
author: cobo
pubDatetime: 2023-01-30T15:57:52.737Z
title: jmeter
featured: false
draft: false
tags:
  - java
  - tool
description: Apache JMeter是Apache组织基于Java开发的压力测试工具，主要用于对软件进行压力测试
---

Apache JMeter是Apache组织基于Java开发的压力测试工具，主要用于对软件进行压力测试。以下是关于JMeter的介绍和基础使用：

### 介绍

1. **功能**：JMeter最初被设计用于Web应用测试，但后来扩展到了其他测试领域，可用于测试静态和动态资源，如静态文件、Java小服务程序、CGI脚本、Java对象、数据库和FTP服务器等。
2. **特性**：
   - 完全的可移植性和100%纯Java。
   - 完全多线程框架，允许通过多个线程并发取样。
   - 精心的GUI设计允许快速操作和更精确的计时。
   - 缓存和离线分析/回放测试结果。
   - 高可扩展性，支持插件架构。

### 基础使用

JMeter的主要元件包括：

1. **前置处理器**：类似于自动化脚本中的setup，对要发的请求进行预处理。
2. **定时器**：等待一段时间。
3. **取样器**：往服务器发送请求。
4. **后置处理器**：对收到的服务器的响应进行数据提取，类似获取响应中的特定字段。
5. **断言**：将收到的响应结果与预期结果做对比，提高测试准确性。
6. **监听器**：查看测试脚本运行的结果和日志。
7. **测试片段**：封装测试的功能，不单独执行，需要通过脚本的调用，类似于封装的函数。

在JMeter中，元件的作用域规则如下：

- 取样器：元件相互没有作用，不存在作用域问题。
- 逻辑控制器：元件只对其子节点中的取样器和逻辑控制器作用。
- 其他六大元件（除取样器、逻辑控制器外）：一般做初始化操作。

### 示例

- **普通线程组**：用于执行业务测试。一个线程组可以看作一个虚拟用户组，一个线程就是一个虚拟用户。
- **tearDown线程组**：用于测试后的后置处理，如恢复环境等操作。

通过组合这些元件，你可以构建复杂的测试计划，模拟各种用户行为和负载情况，从而评估软件在不同压力下的性能表现。

### 断言

JMeter的断言是在请求的返回层面增加一层判断机制。因为请求成功了，并不代表结果一定正确，因此断言可以提高测试的准确性。你可以使用JMeter提供的断言类型，如响应断言、JSON断言等，来验证返回结果是否符合预期。

支持协议:

1. web：HTTP，HTTPS站点的Web1.0的Web 2.0 (ajax, flex and flex-ws-amf)
2. Web Services: SOAP / XML-RPC
3. 通过JDBC驱动程序的数据库
4. 目录: LDAP
5. 面向消息的服务通过JMS
6. Service: POP3, IMAP, SMTP
7. FTP 服务

## 结构

- 测试计划 #测试计划
- - http信息头管理
- - 用户定义得变量 # 通过${xx}引用
- - http请求默认值，设置请求默认值
- - threadGroup #线程组
- - - Transaction Controller #测试接口组
- - - - 响应断言 #检查响应是否匹配
- - - - JsonPath #抽取json得请求变量

jmeter基础用法如下

<!-- ![img49](@assets/images/img49.svg) -->

### 总结

Apache JMeter是一个功能强大且灵活的压力测试工具，通过合理配置和使用其各种元件和断言，你可以轻松构建复杂的测试计划，对软件进行全面的压力测试。
