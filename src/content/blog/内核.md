---
author: cobo
pubDatetime: 2023-01-30T15:57:52.737Z
title: 内核
featured: false
draft: false
tags:
 - robot
description: this is auto generate
---
术语[[操作系统]]通常包含两种不同含义
1. 完整的软件包，包括用来管理计算机资源的核心软件，以及覆盖的所有标准软件工具，如命令行解释器，图形用户界面，文件操作工具和文本编辑器
2. 更狭义的范围，指管理和分配计算机资源 CPU,RAM和设备的核心层软件

## 内核的职责
1. 进程的调度
2. 内存管理
3. 文件系统
4. 创建和终止进程
5. 对设备的访问
6. 联网
7. 提供系统调用应用编程接口
现代处理器架构一般允许CPU至少在两种不同状态下允许,`用户态`和`核心态`。执行硬件指令可使CPU在两种状态间来回切换。相对应，虚拟内存区域划分为用户控件部分或内核空间部分。

## 用户和组

系统对每个用户身份做唯一标识，用户可以属于多个组

### 用户
系统的每个用户都拥有唯一的登录名（用户名）和与之相对应的整数型用户 ID（UID）。系统密
码文件/etc/passwd 为每个用户都定义有一行记录，除了上述两项信息外，该记录还包含如下信息。
1. 组 ID：用户所属第一个组的整数型组 ID。
2. 主目录：用户登录后所居于的初始目录
3. 登录 shell：执行以解释用户命令的程序名称 有的存的是[[nologin]]，可以启应用，不能登陆系统
该记录还能以加密形式保存用户密码。然而，出于安全考虑，用户密码往往存储于单独
的 shadow 密码文件中，仅供特权用户阅读。
### 组
出于管理目的，尤其是为了控制对文件和其他资源的访问，将多个用户分组是非常实用
的做法。例如，某项目的开发团队人员需要共享同一组文件，就可以将他们编为同一组的成
员。在早期的 UNIX 实现中，一个用户只能隶属于一个组。BSD 率先允许一个用户同时属于
多个组，这一理念后来被其他 UNIX 实现纷纷效仿，并最终成为 POSIX.1-1990 标准。每个用户
组都对应着系统组文件/etc/group 中的一行记录，该记录包含如下信息。
1.  组名：（唯一的）组名称。
2. 组 ID（GID）：与组相关的整数型 ID。
3. 用户列表：隶属于该组的用户登录名列表（通过密码文件记录的 group ID 字段未能标
识出的该组其他成员，也在此列），以逗号分隔。

## 文件I/O模型
UNIX 系统 I/O 模型最为显著的特性之一是其 I/O 通用性概念。也就是说，同一套系统调
用（open()、read()、write()、close()等）所执行的 I/O 操作，可施之于所有文件类型，包括设备文件在内
就本质而言，内核只提供一种文件类型：`字节流序列`，在处理磁盘文件、磁盘或磁带设
备时，可通过 lseek()系统调用来随机访问